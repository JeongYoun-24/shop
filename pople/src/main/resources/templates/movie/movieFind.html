<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/layout2}">


<div layout:fragment="content" class="m-3 p-3">

	<!-- 리스트 -->
	<div class="row mt-3">
		<div class="col">

			<div class="card">
				<h5 class="card-header">영화 상세 페이지 </h5>
				<div class="card-body">

					<h5 class="card-title">영화 이미지 </h5>



					<!-- Item list content -->
					<div class="row">
						<!-- 대표 이미지 -->
						<div class="col-md-4">
							<div>
								<img  th:src="${movie.movieImgDTOList[0].imgUrl}" style="width:300px;" class="rounded m-auto d-block" alt="" >

							</div>

						</div>
						<div class="col-md-2"></div>


						<div class="col-md-5">
							<!-- 판매 상태 -->
							<span th:if="${movie.movieStatus == T(com.springboot.pople.constant.MovieStatus).OPEN}">개봉</span>
							<span th:unless="${movie.movieStatus == T(com.springboot.pople.constant.MovieStatus).OPEN}">미개봉 </span>
							<div class="h4" th:text="${movie.movieName}"></div>
							<hr class="my-4">
							<!--가격및 재고량 -->
							<div>
								<div>
									<input type="hidden" th:value="${movie.id}" id="movieid" name="movieid" class="form-control">

								</div>
								<div class="input-group mb-3 mt-2">
									<h5>관람등급</h5>
									<hr class="">
								</div>
								<div>
									[[${movie.movieRating}]]
								</div>
							</div>
							<hr class="my-4">
							<div class="text-right  d-flex ">
								<h5>러닝타임(상영시간)</h5>
								<hr class="">
							</div>
							<div>
								[[${movie.movieTime}]]
							</div>

							<hr class="my-4">
							<div class="text-right  d-flex ">
								<h5>개봉일자</h5>
								<hr class="">
							</div>
							<div>
								[[${movie.movieDate}]]
							</div>


							<hr class="my-4">
							<div th:if="${movie.movieStatus == T(com.springboot.pople.constant.MovieStatus).OPEN}" class="d-flex justify-content-between">
								<div>
									<button type="button" class="btn btn-outline-dark" id="tickting">예매하기</button>

								</div>
								<div>
									<button type="button" class="btn btn-outline-dark" onclick="addCart()">댓글보기</button>
								</div>
								<div th:unless="${movie.movieStatus == T(com.springboot.pople.constant.MovieStatus).OPEN}">
									<button type="button" class="btn btn-outline-dark" onclick="order()">예매예약하기</button>
									<button type="button" class="btn btn-outline-dark" onclick="addCart()">검색</button>
								</div>

							</div>

						</div>
						<!-- 상품 판매 상태이면 장바구니 주문 하기 버튼 활성화 -->
						<hr class="my-4">


					</div>
					<!-- 삼품 설명 -->
					<div class="container">
						<h4 class="display-3">영화 줄거리 설명 </h4>
						<hr class="my-4">
						<p class="lead" th:text="${movie.MovieSummary}"></p>

						<div>
							<div>
								<button></button>
							</div>
							<div>
								<div class="d-flex">
									<div class="my-2 mx-2 d-flex" th:each="movieImg : ${movie.movieImgDTOList}">
										<img style="width:200px;" th:src="${movieImg.imgUrl}" class="img-fluid rounded mgb-15">
									</div>

								</div>

							</div>
						</div>



					</div>




				</div>
			</div>

		</div>
	</div>



</div>




<script layout:fragment="script"    th:inline="javascript">
    var count = document.querySelector('#count');

	$(function(){
		$('#tickting').click(function(){
			location.href="/schedule/find";

		})

	})




    </script>
<style  layout:fragment="css"       th:inline="css">
        .clearBtn {
            margin-left: 0.3em;
        }

        .pagination a {
            cursor: pointer;
        }
        .btn-outline-dark:hover{

        }


    </style>
</html>
